extends ../layout

block additionalHead
    link(rel='stylesheet', href='/stylesheets/places/style.css')
    script(src="/javascripts/places/index.js")

block content
    .wrapper.container
        .profile-container
            .fixed
                .profile
                    .image(style='background: ' + place.gradient())
                        .inner
                            h5.name #{place.name}
                    .info
                        .field
                            .field-icon
                                i.fas.fa-map-marker
                            p #{place.address || 'No address :('}
                        .field
                            .field-icon
                                i.fas.fa-phone
                            p #{place.phone || 'No phone number :('}
                        .field
                            .field-icon
                                i.fas.fa-share-square
                            if place.website
                                a(href=place.website) #{place.website}
                            else
                                p No website :(
                a.new-review(href='/places/' + place.slug + '/new-review', style='background: ' + place.gradient())
                    .inner
                        .add-icon
                            i.fas.fa-plus-circle
                        h5 Add a new review!
        .reviews-container
            if !place.reviews.length
                .miss
                    h5 Oopsie, looks like no one wrote a review yet :(
                    a(href='/places/' + place.slug + '/new-review') Be the first!
            else
                each review in place.reviews
                    .reviews
                        .review
                            .info
                                p.timestamp #{review.ago()}
                                .editor
                                    .action.edit-review
                                        i.fas.fa-edit
                                    .action.delete-review(data-place=place.slug, data-review=review._id)
                                        i.fas.fa-trash
                            .text
                                input(type="text" value=review.text)